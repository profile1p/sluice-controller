几种常用的自报报文格式：

测试报
ASCII码格式：
0A001234567899993000650005121229111635ST 0012345678 H TT 1212291116 PJ 0001.5 PT 00012.5 TT 1212291115 Z 0027.300 VT 12.69 B9E0
转为二进制格式为：
01 30 41 30 30 31 32 33 34 35 36 37 38 39 39 39 39 33 30 30 30 36 35 02 30 30 30 35 31 32 31 32 32 39 31 31 31 36 33 35 53 54 20 30 30 31 32 33 34 35 36 37 38 20 48 20 54 54 20 31 32 31 32 32 39 31 31 31 36 20 50 4A 20 30 30 30 31 2E 35 20 50 54 20 30 30 30 31 32 2E 35 20 54 54 20 31 32 31 32 32 39 31 31 31 35 20 5A 20 30 30 32 37 2E 33 30 30 20 56 54 20 31 32 2E 36 39 20 03 42 39 45 30 
解析：
 ：帧起始符（不可显字符）
0A：中心站地址，10
0012345678：遥测站地址，0012345678
9999：密码
30：功能码（测试报）
0： 上行；
065：报文正文长度，101字节
 ：报文起始符（不可显字符）
0005：流水号（累加）
121229111635：发报时间12年12月29日11点16分35秒
ST 0012345678 ：测站地址
H ：河道类别
TT 1212291116 ：观测时间（雨量）
PJ 0001.5 ：今日雨量，1.5mm
PT 00012.5 ：累计雨量，12.5mm
TT 1212291115 ：观测时间（水位）
Z 0027.300 ：河道水位，27.300米
VT 12.69 ：电池电压，12.69V
 : 报文结束符（不可显字符）
B9E0：CRC校验

定时报：
ASCII码格式：
0A001234567899993200650007121229130000ST 0012345678 H TT 1212291116 PJ 0001.5 PT 00012.5 TT 1212291300 Z 0027.300 VT 12.68 85A9
转为二进制格式为：
01 30 41 30 30 31 32 33 34 35 36 37 38 39 39 39 39 33 32 30 30 36 35 02 30 30 30 37 31 32 31 32 32 39 31 33 30 30 30 30 53 54 20 30 30 31 32 33 34 35 36 37 38 20 48 20 54 54 20 31 32 31 32 32 39 31 31 31 36 20 50 4A 20 30 30 30 31 2E 35 20 50 54 20 30 30 30 31 32 2E 35 20 54 54 20 31 32 31 32 32 39 31 33 30 30 20 5A 20 30 30 32 37 2E 33 30 30 20 56 54 20 31 32 2E 36 38 20 03 38 35 41 39 
解析：除了功能码为“32”外，其他格式均一致。


加报报（水位加报）：
ASCII码格式：
0A00123456789999330042000E121229143000ST 0012345678 H TT 1212291430 Z 0013.610 VT 12.68 4FB1
转为二进制格式为：
01 30 41 30 30 31 32 33 34 35 36 37 38 39 39 39 39 33 33 30 30 34 32 02 30 30 30 45 31 32 31 32 32 39 31 34 33 30 30 30 53 54 20 30 30 31 32 33 34 35 36 37 38 20 48 20 54 54 20 31 32 31 32 32 39 31 34 33 30 20 5A 20 30 30 31 33 2E 36 31 30 20 56 54 20 31 32 2E 36 38 20 03 34 46 42 31


附录 CRC16 算法：
/****************************************************************/
/*	              CRC16_8005校验	（算法）		*/
/*           生成多项式：X16+X15+X2+1 低字节在后，高字节在前    */
/****************************************************************/
unsigned int CRCcode(unsigned char length,unsigned char *pnt,unsigned char start)
{
	unsigned char i,j;
	unsigned int CRC=0xffff;
	unsigned char temp,tt;
	for(i=0;i<length;i++)
	{
		tt=pnt[(unsigned char)(start+i)];
		CRC=tt^CRC;
		for(j=0;j<8;j++)
		{
			if(CRC&0x0001)temp=1;
			else temp=0;
			CRC=CRC>>1;
			if(temp)
			{
				CRC^=0xA001;
			}
		}
	}
	return(CRC);
}

